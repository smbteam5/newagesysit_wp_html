<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Locations Filter (Mobile)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
      /* Minimal helpers so the demo looks sane without Tailwind */
      body {
        margin: 0;
        font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial,
          sans-serif;
        background: #0b0b0b;
        color: #fff;
      }
      .container {
        max-width: 900px;
        margin: 0 auto;
        padding: 16px;
      }
      .grid {
        display: grid;
        gap: 16px;
      }
      @media (min-width: 768px) {
        .grid {
          grid-template-columns: 1fr 1fr;
        }
      }
      .controls {
        display: grid;
        gap: 12px;
        padding: 12px 16px;
      }
      .toggle-wrapper {
        display: inline-flex;
        gap: 12px;
        background: #121212;
        border: 1px solid #222;
        border-radius: 999px;
        padding: 6px;
      }
      .toggle-wrapper label {
        padding: 8px 14px;
        border-radius: 999px;
        cursor: pointer;
        user-select: none;
        border: 1px solid transparent;
      }
      /* visual active state (pure CSS) */
      #us_mob:checked ~ .toggle-wrapper label[for="us_mob"],
      #global_mob:checked ~ .toggle-wrapper label[for="global_mob"] {
        background: #1f1f1f;
        border-color: #2a2a2a;
      }
      select {
        width: 100%;
        padding: 10px 12px;
        border-radius: 8px;
        border: 1px solid #2a2a2a;
        background: #121212;
        color: #fff;
      }
      .card {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 8px;
        background: #040303;
        padding: 15px 20px;
        border-radius: 45px;
      }
      .card a {
        display: flex;
        align-items: center;
        gap: 4px;
        text-decoration: none;
        color: #fff;
      }
      .hidden {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <div class="block lg:hidden">
      <div class="controls" style="margin-top: 0.6rem">
        <div style="display: grid; gap: 8px">
          <!-- Radios -->
          <input
            type="radio"
            name="toggle"
            id="us_mob"
            checked
            style="display: none"
          />
          <input
            type="radio"
            name="toggle"
            id="global_mob"
            style="display: none"
          />
          <!-- Toggle -->
          <div class="toggle-wrapper">
            <label for="us_mob" class="toggle-label us-label_mob"
              >U.S. locations</label
            >
            <label for="global_mob" class="toggle-label global-label_mob"
              >Global Map</label
            >
          </div>
        </div>

        <!-- Select: keep value="" for All Services; each option needs data-region + unique value -->
        <select id="locationSelect-mob">
          <option value="">All Services</option>
          <!-- U.S. options -->
          <option value="nj" data-region="us">
            Custom Software Development — New Jersey
          </option>
          <option value="jax" data-region="us">
            App Development in Jacksonville
          </option>
          <option value="phl" data-region="us">
            App Development in Philadelphia
          </option>
          <option value="tpa" data-region="us">App Development in Tampa</option>
          <option value="mia" data-region="us">App Development in Miami</option>
          <option value="atl" data-region="us">
            App Development in Atlanta
          </option>
          <option value="clt" data-region="us">
            App Development in Charlotte
          </option>
          <option value="nyc" data-region="us">
            App Development in New York
          </option>
          <option value="va" data-region="us">
            Mobile App Development in Virginia
          </option>
          <option value="ga" data-region="us">
            Mobile App Development in Georgia
          </option>
          <option value="pa" data-region="us">
            Mobile App Development in Pennsylvania
          </option>
          <option value="ca-staff" data-region="us">
            Staff Augmentation in California
          </option>
          <option value="tx-staff" data-region="us">
            Staff Augmentation in Texas
          </option>
          <option value="ny-staff" data-region="us">
            Staff Augmentation in New York
          </option>
          <!-- Global example -->
          <option value="za-staff" data-region="global">
            Staff Augmentation in South Africa
          </option>
        </select>
      </div>

      <div class="container">
        <div class="grid" id="servicesGrid">
          <!-- Cards: each needs .service-card + data-id (match option value) + data-region -->
          <div class="service-card card" data-id="nj" data-region="us">
            <span>Custom Software Development — New Jersey</span>
            <a
              href="https://newagesysit.com/"
              target="_blank"
              aria-label="Open"
            >
              <svg
                width="20"
                height="12"
                viewBox="0 0 10 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.56265 8.46826L8.4799 2.43411L8.3534 6.91126C8.34669 7.14861 8.53259 7.36171 8.76865 7.38729C8.88668 7.40023 8.99489 7.36363 9.07447 7.29422C9.15404 7.2248 9.20499 7.12256 9.20819 7.00387L9.364 1.48918C9.37071 1.25183 9.18482 1.03873 8.94875 1.01315L3.46411 0.41882C3.2282 0.393111 3.03113 0.565027 3.02457 0.802242C3.01787 1.03959 3.20376 1.25269 3.43983 1.27827L7.89271 1.76067L0.9753 7.79496C0.803713 7.94464 0.796019 8.21694 0.958127 8.40277C1.12023 8.5886 1.3909 8.61808 1.56265 8.46826Z"
                  fill="white"
                ></path>
              </svg>
            </a>
          </div>

          <div class="service-card card" data-id="jax" data-region="us">
            <span>App Development in Jacksonville</span>
            <a
              href="https://newagesysit.com/"
              target="_blank"
              aria-label="Open"
            >
              <svg
                width="20"
                height="12"
                viewBox="0 0 10 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.56265 8.46826L8.4799 2.43411L8.3534 6.91126C8.34669 7.14861 8.53259 7.36171 8.76865 7.38729C8.88668 7.40023 8.99489 7.36363 9.07447 7.29422C9.15404 7.2248 9.20499 7.12256 9.20819 7.00387L9.364 1.48918C9.37071 1.25183 9.18482 1.03873 8.94875 1.01315L3.46411 0.41882C3.2282 0.393111 3.03113 0.565027 3.02457 0.802242C3.01787 1.03959 3.20376 1.25269 3.43983 1.27827L7.89271 1.76067L0.9753 7.79496C0.803713 7.94464 0.796019 8.21694 0.958127 8.40277C1.12023 8.5886 1.3909 8.61808 1.56265 8.46826Z"
                  fill="white"
                ></path>
              </svg>
            </a>
          </div>

          <div class="service-card card" data-id="phl" data-region="us">
            <span>App Development in Philadelphia</span>
            <a
              href="https://newagesysit.com/"
              target="_blank"
              aria-label="Open"
            >
              <svg
                width="20"
                height="12"
                viewBox="0 0 10 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.56265 8.46826L8.4799 2.43411L8.3534 6.91126C8.34669 7.14861 8.53259 7.36171 8.76865 7.38729C8.88668 7.40023 8.99489 7.36363 9.07447 7.29422C9.15404 7.2248 9.20499 7.12256 9.20819 7.00387L9.364 1.48918C9.37071 1.25183 9.18482 1.03873 8.94875 1.01315L3.46411 0.41882C3.2282 0.393111 3.03113 0.565027 3.02457 0.802242C3.01787 1.03959 3.20376 1.25269 3.43983 1.27827L7.89271 1.76067L0.9753 7.79496C0.803713 7.94464 0.796019 8.21694 0.958127 8.40277C1.12023 8.5886 1.3909 8.61808 1.56265 8.46826Z"
                  fill="white"
                ></path>
              </svg>
            </a>
          </div>

          <div class="service-card card" data-id="tpa" data-region="us">
            <span>App Development in Tampa</span>
            <a
              href="https://newagesysit.com/"
              target="_blank"
              aria-label="Open"
            >
              <svg
                width="20"
                height="12"
                viewBox="0 0 10 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.56265 8.46826L8.4799 2.43411L8.3534 6.91126C8.34669 7.14861 8.53259 7.36171 8.76865 7.38729C8.88668 7.40023 8.99489 7.36363 9.07447 7.29422C9.15404 7.2248 9.20499 7.12256 9.20819 7.00387L9.364 1.48918C9.37071 1.25183 9.18482 1.03873 8.94875 1.01315L3.46411 0.41882C3.2282 0.393111 3.03113 0.565027 3.02457 0.802242C3.01787 1.03959 3.20376 1.25269 3.43983 1.27827L7.89271 1.76067L0.9753 7.79496C0.803713 7.94464 0.796019 8.21694 0.958127 8.40277C1.12023 8.5886 1.3909 8.61808 1.56265 8.46826Z"
                  fill="white"
                ></path>
              </svg>
            </a>
          </div>

          <div class="service-card card" data-id="atl" data-region="us">
            <span>App Development in Atlanta</span>
            <a
              href="https://newagesysit.com/"
              target="_blank"
              aria-label="Open"
            >
              <svg
                width="20"
                height="12"
                viewBox="0 0 10 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.56265 8.46826L8.4799 2.43411L8.3534 6.91126C8.34669 7.14861 8.53259 7.36171 8.76865 7.38729C8.88668 7.40023 8.99489 7.36363 9.07447 7.29422C9.15404 7.2248 9.20499 7.12256 9.20819 7.00387L9.364 1.48918C9.37071 1.25183 9.18482 1.03873 8.94875 1.01315L3.46411 0.41882C3.2282 0.393111 3.03113 0.565027 3.02457 0.802242C3.01787 1.03959 3.20376 1.25269 3.43983 1.27827L7.89271 1.76067L0.9753 7.79496C0.803713 7.94464 0.796019 8.21694 0.958127 8.40277C1.12023 8.5886 1.3909 8.61808 1.56265 8.46826Z"
                  fill="white"
                ></path>
              </svg>
            </a>
          </div>

          <div class="service-card card" data-id="nyc" data-region="us">
            <span>App Development in New York</span>
            <a
              href="https://newagesysit.com/"
              target="_blank"
              aria-label="Open"
            >
              <svg
                width="20"
                height="12"
                viewBox="0 0 10 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.56265 8.46826L8.4799 2.43411L8.3534 6.91126C8.34669 7.14861 8.53259 7.36171 8.76865 7.38729C8.88668 7.40023 8.99489 7.36363 9.07447 7.29422C9.15404 7.2248 9.20499 7.12256 9.20819 7.00387L9.364 1.48918C9.37071 1.25183 9.18482 1.03873 8.94875 1.01315L3.46411 0.41882C3.2282 0.393111 3.03113 0.565027 3.02457 0.802242C3.01787 1.03959 3.20376 1.25269 3.43983 1.27827L7.89271 1.76067L0.9753 7.79496C0.803713 7.94464 0.796019 8.21694 0.958127 8.40277C1.12023 8.5886 1.3909 8.61808 1.56265 8.46826Z"
                  fill="white"
                ></path>
              </svg>
            </a>
          </div>

          <div class="service-card card" data-id="tx-staff" data-region="us">
            <span>Staff Augmentation in Texas</span>
            <a
              href="https://newagesysit.com/"
              target="_blank"
              aria-label="Open"
            >
              <svg
                width="20"
                height="12"
                viewBox="0 0 10 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.56265 8.46826L8.4799 2.43411L8.3534 6.91126C8.34669 7.14861 8.53259 7.36171 8.76865 7.38729C8.88668 7.40023 8.99489 7.36363 9.07447 7.29422C9.15404 7.2248 9.20499 7.12256 9.20819 7.00387L9.364 1.48918C9.37071 1.25183 9.18482 1.03873 8.94875 1.01315L3.46411 0.41882C3.2282 0.393111 3.03113 0.565027 3.02457 0.802242C3.01787 1.03959 3.20376 1.25269 3.43983 1.27827L7.89271 1.76067L0.9753 7.79496C0.803713 7.94464 0.796019 8.21694 0.958127 8.40277C1.12023 8.5886 1.3909 8.61808 1.56265 8.46826Z"
                  fill="white"
                ></path>
              </svg>
            </a>
          </div>

          <!-- Global example -->
          <div
            class="service-card card"
            data-id="za-staff"
            data-region="global"
          >
            <span>Staff Augmentation in South Africa</span>
            <a
              href="https://newagesysit.com/"
              target="_blank"
              aria-label="Open"
            >
              <svg
                width="20"
                height="12"
                viewBox="0 0 10 9"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <path
                  d="M1.56265 8.46826L8.4799 2.43411L8.3534 6.91126C8.34669 7.14861 8.53259 7.36171 8.76865 7.38729C8.88668 7.40023 8.99489 7.36363 9.07447 7.29422C9.15404 7.2248 9.20499 7.12256 9.20819 7.00387L9.364 1.48918C9.37071 1.25183 9.18482 1.03873 8.94875 1.01315L3.46411 0.41882C3.2282 0.393111 3.03113 0.565027 3.02457 0.802242C3.01787 1.03959 3.20376 1.25269 3.43983 1.27827L7.89271 1.76067L0.9753 7.79496C0.803713 7.94464 0.796019 8.21694 0.958127 8.40277C1.12023 8.5886 1.3909 8.61808 1.56265 8.46826Z"
                  fill="white"
                ></path>
              </svg>
            </a>
          </div>
        </div>
      </div>
    </div>

    <script>
      (() => {
        const radioUS = document.getElementById("us_mob");
        const radioGlobal = document.getElementById("global_mob");
        const select = document.getElementById("locationSelect-mob");
        const cards = Array.from(document.querySelectorAll(".service-card"));

        // Return current scope
        const scope = () => (radioUS.checked ? "us" : "global");

        // Show/hide select options based on scope
        function syncSelectOptions() {
          const sc = scope();
          const opts = Array.from(select.options);

          opts.forEach((opt, i) => {
            if (i === 0) {
              opt.hidden = false;
              return;
            } // Always show "All Services"
            const r = opt.dataset.region || "global";
            opt.hidden = sc === "us" && r !== "us";
          });

          // If current selection is now hidden, reset to All Services
          if (select.selectedOptions[0]?.hidden) select.value = "";
        }

        // Filter cards based on scope + select value
        function applyFilters() {
          const sc = scope();
          // In Global, ignore the select (show everything)
          const selectedId = sc === "global" ? "" : select.value || "";

          cards.forEach((card) => {
            const region = card.dataset.region || "global";
            const id = card.dataset.id || "";

            const passScope = sc === "us" ? region === "us" : true;
            const passSelect = selectedId ? id === selectedId : true;

            const show = passScope && passSelect;
            card.classList.toggle("hidden", !show);
          });
        }

        // Events
        select.addEventListener("change", () => {
          if (scope() === "global") select.value = ""; // ignore select in Global
          applyFilters();
        });
        // iOS/Safari safety
        select.addEventListener("input", () => {
          if (scope() === "global") select.value = "";
          applyFilters();
        });

        radioUS.addEventListener("change", () => {
          syncSelectOptions();
          applyFilters();
        });

        radioGlobal.addEventListener("change", () => {
          select.value = ""; // reset to All Services on Global
          syncSelectOptions(); // show all options
          applyFilters(); // show all cards
        });

        // Init
        syncSelectOptions();
        applyFilters();
      })();
    </script>
  </body>
</html>
